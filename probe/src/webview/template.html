<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src {{cspSource}} 'unsafe-inline' 'wasm-unsafe-eval'; style-src {{cspSource}} 'unsafe-inline'; img-src {{cspSource}} data:; font-src {{cspSource}}; connect-src {{cspSource}};">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ghostty Probe</title>
  <link rel="stylesheet" href="{{stylesUri}}">
</head>
<body data-wasm-url="{{wasmUri}}">
  <div class="header-container">
    <div class="ascii-header">
   ██████╗ ██╗  ██╗ ██████╗ ███████╗████████╗████████╗██╗   ██╗
  ██╔════╝ ██║  ██║██╔═══██╗██╔════╝╚══██╔══╝╚══██╔══╝╚██╗ ██╔╝
  ██║  ███╗███████║██║   ██║███████╗   ██║      ██║    ╚████╔╝
  ██║   ██║██╔══██║██║   ██║╚════██║   ██║      ██║     ╚██╔╝
  ╚██████╔╝██║  ██║╚██████╔╝███████║   ██║      ██║      ██║
   ╚═════╝ ╚═╝  ╚═╝ ╚═════╝ ╚══════╝   ╚═╝      ╚═╝      ╚═╝
           ██╗    ██╗███████╗██████╗       ██████╗ ██████╗  ██████╗ ██████╗ ███████╗
           ██║    ██║██╔════╝██╔══██╗      ██╔══██╗██╔══██╗██╔═══██╗██╔══██╗██╔════╝
           ██║ █╗ ██║█████╗  ██████╔╝█████╗██████╔╝██████╔╝██║   ██║██████╔╝█████╗
           ██║███╗██║██╔══╝  ██╔══██╗╚════╝██╔═══╝ ██╔══██╗██║   ██║██╔══██╗██╔══╝
           ╚███╔███╔╝███████╗██████╔╝      ██║     ██║  ██║╚██████╔╝██████╔╝███████╗
            ╚══╝╚══╝ ╚══════╝╚═════╝       ╚═╝     ╚═╝  ╚═╝ ╚═════╝ ╚═════╝ ╚══════╝
    </div>
    <div class="header-text">
      <h1>Feasibility Probe <span class="badge badge-experiment">EXPERIMENT</span></h1>
      <p class="header-subtitle">Can ghostty-web replace xterm.js in VS Code?</p>
    </div>
  </div>

  <div class="button-group">
    <button id="runWasmLoading">Test Wasm Loading</button>
    <button id="runAll">Run All Probes</button>
  </div>

  <div id="matrixControls" class="matrix-controls hidden">
    <button id="matrixToggle" class="matrix-btn">Start Matrix</button>
    <div class="speed-control">
      <label for="matrixSpeed">Speed:</label>
      <input type="range" id="matrixSpeed" min="1" max="10" value="5">
      <span id="speedLabel">5</span>
    </div>
  </div>

  <div id="matrixMetrics" class="matrix-metrics hidden">
    <span class="metric">
      <span class="value" id="metricMiB">0.0</span>
      <span class="unit">MiB/s</span>
    </span>
    <span class="metric">
      <span class="value" id="metricFPS">0</span>
      <span class="unit">FPS</span>
    </span>
    <span class="metric">
      <span class="value" id="metricChars">0</span>
      <span class="unit">chars/sec</span>
    </span>
  </div>

  <div id="terminalContainer"></div>
  <div id="benchmarkIndicator" class="benchmark-indicator">BENCHMARK RUNNING - Terminal painting below</div>
  <canvas id="glCanvas" width="800" height="600"></canvas>

  <div id="results"></div>

  <script src="{{ghosttyWebJsUri}}"></script>
  <script src="{{mainJsUri}}"></script>
</body>
</html>
